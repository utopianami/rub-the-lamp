# Workflow Recipes

도구들을 조합해서 사용하는 시나리오 모음입니다.

---

## 각 도구의 역할

| 도구 | 담당 | 강점 |
|-----|------|------|
| **Spec Kit** | 기획 + 최종 검증 | 체계적인 문서화, 테스트 계획 |
| **oh-my-claudecode** | 구현 가속 | 병렬 처리, 전문 에이전트 자동 배치 |
| **AI-LINK** | 품질 검증 | 다른 모델(Cursor)의 blind spot 검증 |
| **tmux + Agent Team** | 병렬 실행 환경 | 여러 에이전트 동시 가동, 세션 유지 |

---

## 설정 파일 구조

```
┌─────────────────────────────────────────────┐
│ ~/.claude/CLAUDE.md (OMC)                   │ ← 워크플로우 자동화
│   - ralph, ultrawork, planning 등           │
├─────────────────────────────────────────────┤
│ /project/CLAUDE.md (AI-LINK)                │ ← 교차 검증 프로토콜
│   - 코드 작성 후 AI-LINK.md 업데이트        │
├─────────────────────────────────────────────┤
│ spec-kit                                    │ ← 기능 스펙 관리
│   - /speckit.specify, /speckit.plan 등      │
├─────────────────────────────────────────────┤
│ ~/.tmux.conf                                │ ← 멀티 에이전트 환경
│   - gruvbox 테마, 패널 분할, 마우스 지원     │
└─────────────────────────────────────────────┘
```

## 실제 사용 예시

```bash
# 1. 기능 스펙 작성 (spec-kit)
/speckit.specify "새 거래 알고리즘"

# 2. 코딩 시작 (OMC + AI-LINK)
"ralph: 거래 알고리즘 구현해줘"
→ OMC가 끝날 때까지 지속
→ 코드 완료 시 AI-LINK.md 자동 업데이트

# 3. Cursor로 전환하여 리뷰
→ AI-LINK.md의 "[x] 리뷰중 (Cursor)" 슬롯 처리
```

---

## 4개 풀 조합: Spec Kit + oh-my-claudecode + AI-LINK + tmux Agent Team

모든 도구를 동원하는 최대 효율 워크플로우. 대규모 피처 개발에 적합.

```
┌─────────────────────────────────────────────────────────────────┐
│  Phase 1: 기획 (Spec Kit)                                        │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌──────────┐     │
│  │ specify │ →  │  plan   │ →  │  tasks  │ →  │ testplan │     │
│  └─────────┘    └─────────┘    └─────────┘    └──────────┘     │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  Phase 2: 병렬 구현 (tmux + OMC)                                 │
│                                                                  │
│  tmux 4분할 패널:                                                │
│  ┌──────────────┬──────────────┐                                │
│  │ Agent A      │ Agent B      │                                │
│  │ config 구현   │ registry 구현 │                                │
│  ├──────────────┼──────────────┤                                │
│  │ Agent C      │ Reviewer     │                                │
│  │ metrics 구현  │ 리뷰 대기     │                                │
│  └──────────────┴──────────────┘                                │
│  → 독립 태스크 3개 동시 실행 → 완료 시 reviewer가 검증            │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  Phase 3: 교차 검증 (AI-LINK)                                    │
│                                                                  │
│  Claude → AI-LINK.md 업데이트 → Cursor 리뷰                      │
│     ↑                               │                            │
│     └────── [bad/neutral] ──────────┘                            │
│              [good] → 다음 단계                                   │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  Phase 4: 최종 검증 (Spec Kit)                                   │
│  ┌────────────┐                                                  │
│  │ testreview │ → testplan 대비 검증 + 엣지케이스 확인            │
│  └────────────┘                                                  │
└─────────────────────────────────────────────────────────────────┘
```

**사용 예시**:
```bash
# 1. 스펙 정의
/speckit.specify "트레이딩 시스템 리팩토링"
/speckit.plan
/speckit.tasks
/speckit.testplan "config 검증, registry 등록, metrics 수집"

# 2. tmux 세션 생성 + 병렬 구현
tmux new-session -s dev
# Ctrl+b → " (수평 분할) / Ctrl+b → % (수직 분할) 로 4분할
# 각 패널에서 claude 실행:
#   패널 1: "config 모듈 구현해줘"
#   패널 2: "registry 모듈 구현해줘"
#   패널 3: "metrics 모듈 구현해줘"
#   패널 4: (리뷰어 대기)

# 3. 구현 완료 후 교차 검증
# → Claude가 AI-LINK.md 업데이트
# → Cursor에게 "리뷰해줘"
# → [good] 될 때까지 반복

# 4. 최종 검증
/speckit.testreview
```

---

## 3개 조합: Spec Kit + oh-my-claudecode + AI-LINK

체계적인 문서화 + 빠른 구현 + 외부 검증이 모두 필요할 때

```
┌─────────────────────────────────────────────────────────────────┐
│  Phase 1: 기획 (Spec Kit)                                        │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌──────────┐     │
│  │ specify │ →  │  plan   │ →  │  tasks  │ →  │ testplan │     │
│  └─────────┘    └─────────┘    └─────────┘    └──────────┘     │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  Phase 2: 구현 (oh-my-claudecode)                                │
│                                                                  │
│  "implement ralph ulw" → 28개 에이전트가 병렬로 빠르게 구현        │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  Phase 3: 교차 검증 (AI-LINK)                                    │
│                                                                  │
│  Claude → AI-LINK.md 업데이트 → Cursor 리뷰                      │
│     ↑                               │                            │
│     └────── [bad/neutral] ──────────┘                            │
│              [good] → 다음 단계                                   │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  Phase 4: 최종 검증 (Spec Kit)                                   │
│  ┌────────────┐                                                  │
│  │ testreview │ → testplan 대비 검증 + 엣지케이스 확인            │
│  └────────────┘                                                  │
└─────────────────────────────────────────────────────────────────┘
```

**사용 예시**:
```bash
# 1. 스펙 정의
/speckit.specify "사용자 인증 기능"
/speckit.plan
/speckit.tasks
/speckit.testplan "JWT 만료 처리, 비밀번호 해싱"

# 2. 구현
"implement ralph ulw"

# 3. 교차 검증
# → Claude가 AI-LINK.md 업데이트
# → Cursor에게 "리뷰해줘"
# → [good] 될 때까지 반복

# 4. 최종 검증
/speckit.testreview
```

---

## 2개 조합: oh-my-claudecode + AI-LINK

Spec Kit 없이 가볍게 사용. 빠른 개발, 개인 작업에 적합.

```
┌─────────────────────────────────────────────────────────────────┐
│  구현 (oh-my-claudecode)                                         │
│                                                                  │
│  "구현해줘 ralph ulw" → 28개 에이전트가 병렬로 빠르게 구현         │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  검증 (AI-LINK)                                                  │
│                                                                  │
│  Claude → AI-LINK.md 업데이트 → Cursor 리뷰                      │
│     ↑                               │                            │
│     └────── [bad/neutral] ──────────┘                            │
│              [good] → 완료                                       │
└─────────────────────────────────────────────────────────────────┘
```

**사용 예시**:
```bash
# 1. 구현
"로그인 폼 구현해줘 ralph ulw"

# 2. 검증
# → Claude가 AI-LINK.md 업데이트
# → Cursor에게 "리뷰해줘"
# → [good] 될 때까지 반복
```

**장점**:
- 문서화 오버헤드 없음
- 빠른 피드백 루프
- 외부 모델(Cursor)의 시선으로 검증

---

## 2개 조합: tmux Agent Team + AI-LINK

여러 에이전트를 물리적으로 병렬 실행하면서 Cursor로 교차 검증. 속도와 품질 동시 확보.

```
┌─────────────────────────────────────────────────────────────────┐
│  병렬 구현 (tmux Agent Team)                                     │
│                                                                  │
│  ┌──────────────┬──────────────┐                                │
│  │ Agent A      │ Agent B      │  ← 독립 태스크 분배             │
│  │ 모듈 A 구현   │ 모듈 B 구현   │                                │
│  └──────────────┴──────────────┘                                │
└─────────────────────────────────────────────────────────────────┘
                                    ↓
┌─────────────────────────────────────────────────────────────────┐
│  검증 (AI-LINK)                                                  │
│                                                                  │
│  Claude → AI-LINK.md 업데이트 → Cursor 리뷰                      │
│     ↑                               │                            │
│     └────── [bad/neutral] ──────────┘                            │
│              [good] → 완료                                       │
└─────────────────────────────────────────────────────────────────┘
```

---

## 언제 어떤 조합을 쓸까?

| 상황 | 추천 조합 |
|-----|----------|
| 대규모 피처, 최대 병렬화 필요 | **4개 풀 조합** (Spec Kit + OMC + AI-LINK + tmux) |
| 큰 피처, 팀 협업, 문서화 필요 | **3개 조합** (Spec Kit + OMC + AI-LINK) |
| 빠른 개발, 개인 작업 | **2개 조합** (OMC + AI-LINK) |
| 병렬 구현 + 외부 검증 | **2개 조합** (tmux Agent Team + AI-LINK) |
| 간단한 수정, 버그 픽스 | **AI-LINK만** |
| 체계적 기획만 필요 (검증은 자체) | **Spec Kit만** |
| 독립 태스크 동시 실행 | **tmux Agent Team만** |
